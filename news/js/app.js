// Generated by CoffeeScript 1.3.3
(function() {
  var __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  angular.module('News', []);

  angular.module('News', []);

  angular.module('News').filter('feedInFolder', function() {
    return function(feeds, folderId) {
      var feed, result, _i, _len;
      result = [];
      for (_i = 0, _len = feeds.length; _i < _len; _i++) {
        feed = feeds[_i];
        if (feed.folder === folderId) {
          result.push(feed);
        }
      }
      return result;
    };
  });

  angular.module('News').factory('FeedModel', [
    'Model', function(Model) {
      var FeedModel;
      FeedModel = (function(_super) {

        __extends(FeedModel, _super);

        function FeedModel() {
          FeedModel.__super__.constructor.call(this);
          this.add({
            id: 1,
            name: 'test',
            unreadCount: 5,
            folder: 0
          });
          this.add({
            id: 2,
            name: 'sub',
            unreadCount: 5,
            folder: 1
          });
        }

        return FeedModel;

      })(Model);
      return new FeedModel();
    }
  ]);

  angular.module('News').factory('FeedType', function() {
    var feedType;
    return feedType = {
      Feed: 0,
      Folder: 1,
      Starred: 2,
      Subscriptions: 3,
      Shared: 4
    };
  });

  angular.module('News').factory('FolderModel', [
    'Model', function(Model) {
      var FolderModel;
      FolderModel = (function(_super) {

        __extends(FolderModel, _super);

        function FolderModel() {
          FolderModel.__super__.constructor.call(this);
          this.add({
            id: 1,
            type: 1,
            name: 'test',
            unreadCount: 5
          });
        }

        return FolderModel;

      })(Model);
      return new FolderModel();
    }
  ]);

  angular.module('News').factory('ItemModel', [
    'Model', function(Model) {
      var ItemModel;
      ItemModel = (function(_super) {

        __extends(ItemModel, _super);

        function ItemModel() {
          return ItemModel.__super__.constructor.apply(this, arguments);
        }

        return ItemModel;

      })(Model);
      return new ItemModel();
    }
  ]);

  angular.module('News').factory('Model', function() {
    var Model;
    return Model = (function() {

      function Model() {
        this._items = [];
        this._itemIds = {};
      }

      Model.prototype.add = function(item) {
        this._items.push(item);
        return this._itemIds[item.id] = item;
      };

      Model.prototype.update = function(item) {
        return this._items = item;
      };

      Model.prototype.removeById = function(id) {
        var counter, item, removeItemIndex, _i, _len, _ref;
        removeItemIndex = null;
        _ref = this.items;
        for (counter = _i = 0, _len = _ref.length; _i < _len; counter = ++_i) {
          item = _ref[counter];
          if (item.id === id) {
            removeItemIndex = counter;
          }
        }
        if (removeItemIndex !== null) {
          this.items.splice(removeItemId, 1);
          return delete this._itemIds[id];
        }
      };

      Model.prototype.getItemById = function(id) {
        return this._itemIds[id];
      };

      Model.prototype.getItems = function() {
        return this._items;
      };

      return Model;

    })();
  });

  angular.module('News').factory('Updater', ['$rootScope', function($rootScope) {}]);

  angular.module('News').factory('Controller', function() {
    var Controller;
    return Controller = (function() {

      function Controller() {}

      return Controller;

    })();
  });

  angular.module('News').controller('ItemController', [
    'Controller', '$scope', function(Controller, $scope) {
      var ItemController;
      ItemController = (function(_super) {

        __extends(ItemController, _super);

        function ItemController($scope) {
          this.$scope = $scope;
        }

        return ItemController;

      })(Controller);
      return new ItemController($scope);
    }
  ]);

  angular.module('News').controller('FeedController', [
    'Controller', '$scope', 'FeedModel', 'FeedType', 'FolderModel', function(Controller, $scope, FeedModel, FeedType, FolderModel) {
      var FeedController;
      FeedController = (function(_super) {

        __extends(FeedController, _super);

        function FeedController($scope, feedModel, folderModel, feedType) {
          var _this = this;
          this.$scope = $scope;
          this.feedModel = feedModel;
          this.folderModel = folderModel;
          this.activeFeed = {
            id: 3,
            type: 0
          };
          this.$scope.feeds = this.feedModel.getItems();
          this.$scope.folders = this.folderModel.getItems();
          this.$scope.feedType = feedType;
          this.$scope.isFeedActive = function(type, id) {
            if (type === _this.activeFeed.type && id === _this.activeFeed.id) {
              console.log("type " + type + "is active");
              return true;
            } else {
              return false;
            }
          };
        }

        return FeedController;

      })(Controller);
      return new FeedController($scope, FeedModel, FolderModel, FeedType);
    }
  ]);

  angular.module('News').controller('FeedController', [
    'Controller', '$scope', 'FeedModel', 'FeedType', 'FolderModel', function(Controller, $scope, FeedModel, FeedType, FolderModel) {
      var FeedController;
      FeedController = (function(_super) {

        __extends(FeedController, _super);

        function FeedController($scope, feedModel, folderModel, feedType) {
          var _this = this;
          this.$scope = $scope;
          this.feedModel = feedModel;
          this.folderModel = folderModel;
          this.activeFeed = {
            id: 3,
            type: 0
          };
          this.$scope.feeds = this.feedModel.getItems();
          this.$scope.folders = this.folderModel.getItems();
          this.$scope.feedType = feedType;
          this.$scope.isFeedActive = function(type, id) {
            if (type === _this.activeFeed.type && id === _this.activeFeed.id) {
              console.log("type " + type + "is active");
              return true;
            } else {
              return false;
            }
          };
        }

        return FeedController;

      })(Controller);
      return new FeedController($scope, FeedModel, FolderModel, FeedType);
    }
  ]);

}).call(this);
